<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Display GitHub repositories on Jekyll</title><meta name="description" content=""><meta name="author" content="Rémy Gardette"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="google-site-verification" content="7-sInCicLv1ZVadM2GHwwPUIr-2KgqNbsHA9Pl31zr0"/> <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><link href="/assets/themes/flat/bootstrap/css/bootstrap.min.css" rel="stylesheet"><link href="/assets/themes/flat/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"><link href="/assets/themes/flat/css/font-awesome.min.css" rel="stylesheet"><link href="/assets/themes/flat/css/pygments.css" rel="stylesheet"><link href="/assets/themes/flat/css/style.css?body=1" rel="stylesheet" type="text/css" media="all"><link href='http://fonts.googleapis.com/css?family=Dosis:700' rel='stylesheet' type='text/css'><link href='http://fonts.googleapis.com/css?family=Gudea:400,400italic,700' rel='stylesheet' type='text/css'><link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed"><link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed"><script>(function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="//api.flattr.com/js/0.6/load.js?mode=auto&button=compact&uid=ramy&category=text",t.parentNode.insertBefore(e,t)})()</script></head><body><div class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-inner"><div class="container"> <btn class="btn btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse" type="button"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </btn><a class="brand" href="/">Rémy Gardette</a><div class="nav-collapse collapse"><ul class="nav"><li><a href="http://blog.remyg.fr" class="dev">Blog</a></li><li><a href="/articles.html" class="dev">Articles</a></li><li><a href="/projects/index.html" class="dev">Projects</a></li><li><a href="/resume.html" class="pro">Resume</a></li><li><a href="/skills.html" class="pro">Skills</a></li><li><a href="/contact.html" class="misc">Contact</a></li><li><a href="/about.html" class="misc">About</a></li></ul></div></div></div></div><div class="container"><div class="content"><div class="page-header"><div class="row-fluid"><div class="span12"><h1>Display GitHub repositories on Jekyll</h1></div></div></div><div class="row-fluid post-full"><div class="span9"><div class="date"> <strong>08 March 2013</strong></div></div><div class="span2 offset1"><div class="flattr-div"> <a class="FlattrButton" href="http://remyg.fr/2013/03/08/display-github-repositories-on-jekyll" title="Display GitHub repositories on Jekyll" rel="flattr;tags:blog;"></a></div></div></div><div class="row-fluid post-full"><div class="span9"><div class="content"><p>This website is mostly meant to present my personnal work and projects, which are stored on GitHub. That’s why I wanted to display the last GitHub repositories I’ve worked on.</p><p>To do that, I’ve decided to use jQuery to make an AJAX call to the GitHub API, and display the result on my home page.</p><h2 id='get_jquery'>Get jQuery</h2><p>Start by downloading the compressed version of jQuery (for me it was jquery-1.9.1.min.js) on <a href='http://jquery.com/download/'>the official site</a>. Save the file in the directory <code>assets/themes/your_theme/js/</code>.</p><p>Include the script file in your default layout (<code>_includes/themes/your_theme/default.html</code>). I always include the file in the head of the HTML:</p><pre><code>...

{% for item in page.js %}
    {% if item == 'jquery' %}
        &lt;script type="text/javascript" src="{{ ASSET_PATH }}/js/jquery-1.9.1.min.js"&gt;&lt;/script&gt;
    {% endif %}
{% endfor %}

&lt;/head&gt;</code></pre><p>The loop and condition allow me to only include the file when needed. I’ll explain later how to trigger the include in a specific page.</p><h2 id='create_the_layout_used_to_display_the_repositories'>Create the layout used to display the repositories</h2><p>The layout is created as <code>_includes/JB/github</code> (no extension).</p><pre><code>{% if site.github.user %}
    &lt;section&gt;
        &lt;h2&gt;On GitHub&lt;/h2&gt;
        &lt;div id="gh_repos"&gt;
            &lt;p&gt;Status updating...&lt;/p&gt;
        &lt;/div&gt;
        {% if site.github.show_profile_link %}
            &lt;a href="https://github.com/{{site.github.user}}"
                title="Follow {{site.github.user}} on Github" id="followGithub" class="noBg"&gt;
                &lt;img src="https://github.com/favicon.ico" /&gt;
                &lt;span&gt;Follow me on Github&lt;/span&gt;
            &lt;/a&gt;
        {% endif %}
    &lt;/section&gt;
{% endif %}</code></pre><p>The configuration for <code>site.github.user</code> and <code>site.github.show_profile_link</code> will be put in <code>_config.yml</code>.</p><h2 id='make_the_ajax_call_and_display_the_results'>Make the AJAX call and display the results</h2><p>I want to display my repositories on my home page, which is <code>index.md</code> for my configuration.</p><p>First you have to enable the inclusion of jQuery for this page. So add this in the YAML Front Matter:</p><pre><code>js: [jquery]</code></pre><p>Then, we have to include the layout <code>github</code> we just wrote, where we want to display the list of repositories:</p><pre><code>{% include JB/github %}</code></pre><p>Now it’s time to write the AJAX call that will retrieve the list. I use jQuery to simplify the JS manipulation, but you can write all this in basic JS:</p><pre><code>&lt;script type="text/javascript"&gt;
// &lt;!--
    $.ajax({
        type: "GET",
        url: 'https://api.github.com/users/{{ site.github.user }}/repos?callback=?',
        data: { type: "all", sort: "pushed", direction: "desc" },
        dataType: 'json',
        success: function(resp) {
            if (resp.data.length &gt; 0) {
                $('#gh_repos').html('&lt;ul&gt;&lt;/ul&gt;');
                for(var i = 0; i &lt; $(resp.data).length &amp;&amp; i &lt; {{ site.github.repo_count }}; i++)
                {
                   $('#gh_repos &gt; ul').append(
                        '&lt;li&gt;&lt;a href="' + resp.data[i]['html_url'] + '"&gt;'
                        + resp.data[i]['name'] + '&lt;/a&gt;'
                        + '&lt;p&gt;'
                        + (resp.data[i]['description'] ? resp.data[i]['description'] : '(No description)')
                        + '&lt;/p&gt;&lt;/li&gt;'
                    );
                }
            }
            else {
                $('#gh_repos').html('&lt;p&gt;No public repositories.&lt;/p&gt;');
            }
        }
    });
// --&gt;
&lt;/script&gt;</code></pre><h2 id='configure_jekyll_to_retrieve_the_repositories'>Configure Jekyll to retrieve the repositories</h2><p>And then it’s just a matter of configuring your GitHub information. In <code>_config.yml</code>, just add:</p><pre><code>github:
  user: your_github_username
  repo_count: 5
  show_profile_link: true</code></pre></div></div><div class="span2 offset1"><div><ul class="tag_box inline"><li><i class="icon-folder-open"></i></li><li><a href="/categories.html#Web-ref"> Web </a></li></ul></div><div><ul class="tag_box inline"><li><i class="icon-tags"></i></li><li><a href="/tags.html#GitHub-ref">GitHub</a></li><li><a href="/tags.html#AJAX-ref">AJAX</a></li><li><a href="/tags.html#jQuery-ref">jQuery</a></li></ul></div></div></div><div class="row-fluid post-full"><hr><div class="pagination"><ul><li class="prev"><a href="/2013/03/05/auto-upload-jekyll-after-pushing-to-github" title="Auto-upload Jekyll after pushing to GitHub">← Previous</a></li><li><a href="/archive.html">Archive</a></li><li class="next"><a href="/2013/03/09/install-jekyll-on-ubuntu" title="Install Jekyll on Ubuntu">Next →</a></li></ul></div><hr><div id="disqus_thread"></div> <script>var disqus_developer=1,disqus_shortname="RemyG";(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="http://"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a></div></div><hr> <footer><p><span style="font-family:sans-serif">©</span> 2013 <a href="/">Rémy Gardette</a> with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a> and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a></p><p><a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png"/></a> The content of this website is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US">Creative Commons Attribution 3.0 Unported License</a>.</p> </footer></div> <script src="/assets/themes/flat/bootstrap/js/bootstrap.min.js"></script></body></html>